{% extends 'dashboard/base.html' %}

{% block title %}–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold text-gray-800 mb-6">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞</h1>
    
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            
            <div class="mb-6">
                <label for="site_name" class="block text-gray-700 font-medium mb-2">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞</label>
                <input type="text" name="site_name" id="site_name" value="{{ settings.site_name }}" 
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
            </div>
            
            <div class="mb-4">
                <label for="logo" class="block text-gray-700 font-medium mb-2">–õ–æ–≥–æ—Ç–∏–ø</label>
                {% if settings.logo %}
                <div class="mb-3">
                    <img src="{{ settings.logo.url }}" alt="–õ–æ–≥–æ—Ç–∏–ø" class="w-32 h-32 object-contain border rounded-lg p-2 bg-gray-50">
                    <p class="text-sm text-gray-500 mt-1">–¢–µ–∫—É—â–∏–π –ª–æ–≥–æ—Ç–∏–ø</p>
                </div>
                {% endif %}
                <input type="file" name="logo" id="logo" accept="image/*" 
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                <p class="text-sm text-gray-500 mt-1">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 200x200px, —Ñ–æ—Ä–º–∞—Ç PNG –∏–ª–∏ SVG</p>
            </div>
        </div>
        
        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram -->
        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram</h2>
            <p class="text-sm text-gray-600 mb-4">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Telegram –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–∫–∞–∑–∞—Ö</p>
            
            <div class="mb-4">
                <label for="telegram_bot_token" class="block text-gray-700 font-medium mb-2">
                    Telegram Bot Token
                </label>
                <input type="text" name="telegram_bot_token" id="telegram_bot_token" 
                       value="{{ settings.telegram_bot_token }}" 
                       placeholder="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                <p class="text-sm text-gray-500 mt-1">
                    –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —É <a href="https://t.me/BotFather" target="_blank" class="text-indigo-600 hover:text-indigo-800 underline">@BotFather</a>
                </p>
            </div>
            
            <div class="mb-4">
                <label for="telegram_chat_id" class="block text-gray-700 font-medium mb-2">
                    Telegram Chat ID
                </label>
                <input type="text" name="telegram_chat_id" id="telegram_chat_id" 
                       value="{{ settings.telegram_chat_id }}" 
                       placeholder="-1001234567890"
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                <p class="text-sm text-gray-500 mt-1">
                    ID –≥—Ä—É–ø–ø—ã –∏–ª–∏ –∫–∞–Ω–∞–ª–∞. –£–∑–Ω–∞–π—Ç–µ —á–µ—Ä–µ–∑ <a href="https://t.me/userinfobot" target="_blank" class="text-indigo-600 hover:text-indigo-800 underline">@userinfobot</a> –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                </p>
            </div>
            
            {% if settings.telegram_bot_token and settings.telegram_chat_id %}
            <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                <div class="flex items-center">
                    <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-green-800 font-medium">Telegram –Ω–∞—Å—Ç—Ä–æ–µ–Ω</span>
                </div>
                <p class="text-sm text-green-700 mt-1">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –≥—Ä—É–ø–ø—É/–∫–∞–Ω–∞–ª</p>
            </div>
            {% else %}
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                <div class="flex items-center">
                    <svg class="w-5 h-5 text-yellow-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                    </svg>
                    <span class="text-yellow-800 font-medium">Telegram –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω</span>
                </div>
                <p class="text-sm text-yellow-700 mt-1">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è –≤—ã—à–µ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>
            </div>
            {% endif %}
        </div>
        
        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–≤—É–∫–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">üîî –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
            <p class="text-sm text-gray-600 mb-4">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–≤—É–∫ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö –≤ –¥–∞—à–±–æ—Ä–¥–µ</p>
            
            <div class="mb-4">
                <label for="notification_sound" class="block text-gray-700 font-medium mb-2">
                    –ó–≤—É–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                </label>
                {% if settings.notification_sound %}
                <div class="mb-3">
                    <audio controls class="w-full max-w-md mb-2">
                        <source src="{{ settings.notification_sound.url }}" type="audio/mpeg">
                        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç.
                    </audio>
                    <p class="text-sm text-gray-500">–¢–µ–∫—É—â–∏–π –∑–≤—É–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</p>
                </div>
                <div class="mb-3">
                    <label class="flex items-center">
                        <input type="checkbox" name="remove_notification_sound" value="true" class="mr-2">
                        <span class="text-sm text-gray-700">–£–¥–∞–ª–∏—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –∑–≤—É–∫ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–≤—É–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</span>
                    </label>
                </div>
                {% else %}
                <p class="text-sm text-gray-500 mb-2">–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–≤—É–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</p>
                {% endif %}
                <input type="file" name="notification_sound" id="notification_sound" accept="audio/*" 
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
                <p class="text-sm text-gray-500 mt-1">
                    –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: MP3, WAV, OGG. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–æ—Ä–æ—Ç–∫–∏–π –∑–≤—É–∫ (1-3 —Å–µ–∫—É–Ω–¥—ã)
                </p>
            </div>
            
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <div class="flex items-center mb-2">
                    <svg class="w-5 h-5 text-blue-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-blue-800 font-medium">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</span>
                </div>
                <p class="text-sm text-blue-700">
                    –ü—Ä–∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ –≤ –¥–∞—à–±–æ—Ä–¥–µ –±—É–¥–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –∑–≤—É–∫. –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏ —Å–≤–æ–π –∑–≤—É–∫, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∑–≤—É–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
                </p>
            </div>
        </div>
        
        <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram -->
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6">
            <h3 class="text-lg font-semibold text-blue-900 mb-3">üì± –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram:</h3>
            <ol class="list-decimal list-inside space-y-2 text-sm text-blue-800">
                <li>–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ <a href="https://t.me/BotFather" target="_blank" class="underline font-medium">@BotFather</a> –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω</li>
                <li>–°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É –≤ Telegram –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–∫–∞–∑–∞—Ö</li>
                <li>–î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏ —Å–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</li>
                <li>–û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É</li>
                <li>–£–∑–Ω–∞–π—Ç–µ Chat ID –≥—Ä—É–ø–ø—ã —á–µ—Ä–µ–∑ <a href="https://t.me/userinfobot" target="_blank" class="underline font-medium">@userinfobot</a> –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ API: <code class="bg-blue-100 px-1 rounded">https://api.telegram.org/bot&lt;TOKEN&gt;/getUpdates</code></li>
                <li>–í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –∏ Chat ID –≤ –ø–æ–ª—è –≤—ã—à–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ</li>
            </ol>
        </div>
        
        <div class="flex space-x-4">
            <button type="submit" class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition font-medium">
                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
            <a href="{% url 'dashboard_home' %}" class="bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition font-medium">
                –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
</div>
{% endblock %}

